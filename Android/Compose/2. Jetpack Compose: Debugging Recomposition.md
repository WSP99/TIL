# Compose 3 Phase는 어떻게 성능에 영향을 미치는가?
Compose는 필요하지 않은 `phase(Composition -> Layout -> Draw)`를 지능적으로 건너뛸 수 있습니다.  
예를 들어, 두 동일한 크기와 그림의 아이콘의 위치를 서로 바꿔본다고 가정한다면 해당 요소는 크기를 변경하지 않고 UI 트리 요소를 추가하거나 제거하지 않으므로, Compose는 `composition`과 `Layout`을 건너뛰고, `draw`를 통해 해당 요소만 다시 그릴 수 있다.

그러나 실수로 인하여 작성자가 안전하게 Compose phase를 건너뛸 수 있는 단계를 알기 어려울 수 있다.  
이러한 경우 Compose가 3 Phase를 모두 수행하므로 UI를 그리는 속도가 느려질 수도 있다.   
**따라서 성능 최적화를 위해 Compose는 필요하지 않은 단계를 스킵할 수 있도록 개발해야 한다.**

일반적으로 성능을 향상 시킬 수 있는 대표적인 **두 가지 방법**이 존재한다.  
### 1. 가능한 계산은 composable 함수 밖에서 수행하자.
- UI가 변경시 Composable 함수를 다시 수행할 수도 있다. 
- 그러므로 반드시 UI를 빌드하는데에만 필요한 코드만 Composable내에 작성하도록 한다.

### 2. State 읽기를 가능한 오래 지연한다.


# 람다를 사용한 `Modifier`
State가 변경되지 않은 `Recomposition`은 phase(Composition -> Layout -> Draw)를 완전하게 건너뛸 수 있다.  


## 출처
https://developer.android.com/jetpack/compose/performance#defer-reads  
https://medium.com/androiddevelopers/jetpack-compose-debugging-recomposition-bfcf4a6f8d37
